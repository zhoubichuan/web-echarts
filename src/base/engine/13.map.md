---
lang: zh-CN
sidebarDepth: 2
meta:
  - name: description
    content: 个人总结的vuepress学习技术文档-语法
  - name: keywords
    content: vuepress,最新技术文档,vuepress语法,markdown语法
---

# 地理坐标/地图

## 1.中国地图

::: demo

```vue
<template>
  <WebMap :config="getOptions" :data="data"></WebMap>
</template>

<script>
export default {
  data() {
    return {
      data: [],
    };
  },
  mounted() {
    this.data = [];
  },
  methods: {
    getOptions(data) {
      return {
        visualMap: {
          show: true,
          left: 26,
          bottom: 40,
          showLabel: true,
          pieces: [
            {
              gte: 100,
              label: ">= 1000",
              color: "#1f307b",
            },
            {
              gte: 500,
              lt: 999,
              label: "500 - 999",
              color: "#3c57ce",
            },
            {
              gte: 100,
              lt: 499,
              label: "100 - 499",
              color: "#6f83db",
            },
            {
              gte: 10,
              lt: 99,
              label: "10 - 99",
              color: "#9face7",
            },
            {
              lt: 10,
              label: "<10",
              color: "#bcc5ee",
            },
          ],
        },
        geo: {
          map: "china",
          scaleLimit: {
            min: 1,
            max: 2,
          },
          zoom: 1,
          label: {
            show: true,
            fontSize: "14",
            color: "rgba(0,0,0,0.7)",
          },
          itemStyle: {
            borderColor: "rgba(0, 0, 0, 0.2)",
            emphasis: {
              areaColor: "#f2d5ad",
              shadowOffsetX: 0,
              shadowOffsetY: 0,
              borderWidth: 0,
            },
          },
        },
        series: [
          {
            name: "突发事件",
            type: "map",
            geoIndex: 0,
            data: [],
          },
        ],
      };
    },
  },
};
</script>
```

:::

## 2.中国地图

::: demo

```vue
<template>
  <WebMap ref="map" :config="getOptions" :data="data"></WebMap>
</template>

<script>
export default {
  data() {
    return {
      data: [],
    };
  },
  mounted() {
    this.data = [
      ["省份", "tt", "大区名", "补货绿", "日环比", "渐变色"],
      ["新疆", "799", "新疆大区", "800", "800", "800"],
      ["山东", "499", "山东大区", "34", "61", "67"],
      ["云南", "199", "西南大区", "800", "69", "389"],
    ];

    var count = 0;
    var timeTicket = null;
    var dataLength = 3;
    timeTicket && clearInterval(timeTicket);
    timeTicket = setInterval(() => {
      this.$refs.map.charts.dispatchAction({
        type: "downplay",
        seriesIndex: 0,
      });
      this.$refs.map.charts.dispatchAction({
        type: "highlight",
        seriesIndex: 0,
        dataIndex: count % dataLength,
      });
      this.$refs.map.charts.dispatchAction({
        type: "showTip",
        seriesIndex: 0,
        dataIndex: count % dataLength,
      });
      count++;
    }, 1000);
  },
  methods: {
    getOptions(data) {
      return {
        dataset: {
          source: data,
        },
        tooltip: {
          show: true,
          formatter: function (params) {
            return (
              "&nbsp;&nbsp;" +
              params.name +
              "&nbsp;&nbsp;&nbsp;" +
              params.data[3] +
              "人&nbsp;&nbsp;"
            );
          },
        },
        visualMap: {
          type: "piecewise",
          left: "15",
          bottom: "50",
          itemWidth: 27,
          itemHeight: 15,
          dimension: 3,
          textStyle: {
            color: "#333333",
            fontSize: 14,
          },
          pieces: [
            {
              min: 500,
              label: ">500",
            },
            {
              max: 500,
              min: 200,
              label: "200-500",
            },
            {
              max: 200,
              min: 0,
              label: "<200",
            },
            {
              value: 0,
              label: "无数据",
            },
          ],
          inRange: {
            color: ["#B2CAE0", "#D2EAFF", "#8AC6FD", "#45A5F8"],
          },
          outOfRange: {
            color: ["#999999"],
          },
        },
        geo: {
          map: "china",
          show: true,
          roam: false,
          label: {
            emphasis: {
              show: false,
            },
          },
          itemStyle: {
            normal: {
              borderColor: "rgba(0,63,140,0.2)",
              shadowColor: "rgba(0,63,140,0.2)",
              shadowOffsetY: 20,
              shadowBlur: 30,
            },
          },
        },
        series: [
          {
            type: "map",
            map: "china",
            aspectScale: 0.75,
            label: {
              normal: {
                show: false,
              },
              emphasis: {
                show: false,
              },
            },
            itemStyle: {
              normal: {
                areaColor: "#B2CAE0",
                borderColor: "#fff",
                borderWidth: 1,
              },
              emphasis: {
                areaColor: "#FFAE00",
              },
            },
          },
        ],
      };
    },
  },
};
</script>
```

:::

## 3.中国地图

::: demo

```vue
<template>
  <WebMap ref="map" :config="getOptions" :data="data"></WebMap>
</template>

<script>
export default {
  data() {
    return {
      data: [],
    };
  },
  async created() {
    let res = await this.$api.getMap1();
    if (res.data) {
      this.data = res.data;
    }
  },
  methods: {
    getOptions(data) {
      return {
        geo: {
          map: "china",
          // projection: {
          //   project: (point) => [
          //     (point[0] / 180) * Math.PI,
          //     -Math.log(
          //       Math.tan((Math.PI / 2 + (point[1] / 180) * Math.PI) / 2)
          //     ),
          //   ],
          //   unproject: (point) => [
          //     (point[0] * 180) / Math.PI,
          //     ((2 * 180) / Math.PI) * Math.atan(Math.exp(point[1])) - 90,
          //   ],
          // },
          aspectScale: 0.75, //长宽比
          zoom: 1.1,
          roam: true,
          itemStyle: {
            areaColor: "#15e3c9",
            shadowColor: "rgba(0,243,255,0.6)",
            shadowOffsetX: 9,
            shadowOffsetY: 9,
            emphasis: {
              areaColor: "#2AB8FF",
              borderWidth: 0,
              label: {
                show: true,
              },
            },
          },
          regions: [
            {
              name: "南海诸岛",
              itemStyle: {
                areaColor: "rgba(0, 10, 52, 1)",
                borderColor: "rgba(0, 10, 52, 1)",
                opacity: 0,
                label: {
                  show: true,
                  color: "#009cc9",
                },
              },
            },
          ],
        },
        series: [
          {
            type: "map",
            roam: false,
            label: {
              normal: {
                show: false,
                textStyle: {
                  color: "#1DE9B6",
                },
              },
              emphasis: {
                textStyle: {
                  color: "rgb(183,185,14)",
                },
              },
            },
            itemStyle: {
              borderColor: "rgb(18 126 169 / 58%)",
              borderWidth: 1,
              areaColor: "#15e3c9",
              emphasis: {
                areaColor: "rgb(46,229,206)",
                borderWidth: 0.1,
              },
            },
            zoom: 1.1,
            map: "china", //使用
          },
          {
            type: "effectScatter",
            coordinateSystem: "geo",
            showEffectOn: "render",
            zlevel: 1,
            rippleEffect: {
              period: 6,
              scale: 3,
              brushType: "fill",
            },
            hoverAnimation: true,
            label: {
              normal: {
                formatter: function (params) {
                  return params.data.name;
                },
                fontSize: 16,
                position: "right",
                offset: [15, 0],
                color: "#fff",
                show: true,
              },
            },
            itemStyle: {
              normal: {
                color: "#fff",
                shadowBlur: 20,
              },
            },
            symbolSize: 10,
            data: data.map((i) => ({
              value: i,
              itemStyle: { color: "#96cc34" },
            })),
          }, //地图线的动画效果
          {
            type: "lines",
            zlevel: 2,
            effect: {
              show: true,
              period: 8, //箭头指向速度，值越小速度越快
              trailLength: 0, //特效尾迹长度[0,1]值越大，尾迹越长重
              symbol: "triangle", //箭头图标
              symbolSize: [30, 30], //图标大小
            },
            lineStyle: {
              normal: {
                color: "#1DE9B6",
                width: 0, //线条宽度
                opacity: 0, //尾迹线条透明度
                curveness: -2, //尾迹线条曲直度
              },
            },
            // data,
          },
          {
            type: "lines",
            zlevel: 3,
            effect: {
              show: true,
              period: 8, //箭头指向速度，值越小速度越快
              trailLength: 0.7, //特效尾迹长度[0,1]值越大，尾迹越长重
              symbol: "arrow", //箭头图标
              symbolOffset: ["34%", "-50%"],
              symbolSize: [10, 10], //图标大小
            },
            lineStyle: {
              normal: {
                color: new this.$echarts.graphic.LinearGradient(0, 0, 0, 1, [
                  {
                    offset: 0,
                    color: "rgba(255 255 0 ,1)",
                  },
                  {
                    offset: 0.5,
                    color: "rgba(255 255 0 ,0.2)",
                  },
                  {
                    offset: 1,
                    color: "rgba(255 255 0 ,0)",
                  },
                ]),
                width: 0.3, //线条宽度
                opacity: 0.3, //尾迹线条透明度
                curveness: -2, //尾迹线条曲直度
              },
            },
            // data: data,
          },
        ],
      };
    },
  },
};
</script>
```

:::

## 4.世界地图

::: demo

```vue
<template>
  <WebMap ref="map" :config="getOptions" :data="data"></WebMap>
</template>

<script>
export default {
  data() {
    return {
      data: [],
    };
  },
  mounted() {
    this.data = [{}];
  },
  methods: {
    getOptions(data) {
      return {
        visualMap: {
          //地图图例
          show: true,
          left: 26,
          bottom: 40,
          showLabel: true,
          pieces: [
            //根据数据大小，各省显示不同颜色
            {
              gte: 100,
              label: ">= 1000",
              color: "#1f307b",
            },
            {
              gte: 500,
              lt: 999,
              label: "500 - 999",
              color: "#3c57ce",
            },
            {
              gte: 100,
              lt: 499,
              label: "100 - 499",
              color: "#6f83db",
            },
            {
              gte: 10,
              lt: 99,
              label: "10 - 99",
              color: "#9face7",
            },
            {
              lt: 10,
              label: "<10",
              color: "#bcc5ee",
            },
          ],
        },
        geo: {
          //中国地图设置
          map: "word",
          scaleLimit: {
            min: 1,
            max: 2,
          },
          zoom: 1,
          label: {
            normal: {
              show: true,
              fontSize: "14",
              color: "rgba(0,0,0,0.7)",
            },
          },
          itemStyle: {
            normal: {
              borderColor: "rgba(0, 0, 0, 0.2)",
            },
            emphasis: {
              areaColor: "#f2d5ad",
              shadowOffsetX: 0,
              shadowOffsetY: 0,
              borderWidth: 0,
            },
          },
        },
        series: [
          {
            name: "突发事件",
            type: "map",
            geoIndex: 0,
            data: [],
          },
        ],
      };
    },
  },
};
</script>
```

:::
